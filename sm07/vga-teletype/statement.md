|                      |       |
|----------------------|-------|
| **Time limit:**      | `1 s` |
| **Real time limit:** | `5 s` |
| **Memory limit:**    | `2G`  |


### Problem sm07-2: os/vga-teletype

Напишите драйвер текстового вывода на экран, который:

* прокручивает экран при его заполнении;
* поддерживает правильную позицию курсора на экране.

Вы должны определить две функции:

    
    
    void vga_set_cursor(unsigned offset);
    void vga_putc(char c);

Позиция курсора `offset` (16-битное целое) хранится в 8-битных внутренних регистрах видеоадаптера
VGA, имеющих номера 0xf (младший байт `offset`) и 0xe (старший байт).

Работать с регистрами VGA можно через два порта ввода-вывода: 0x3d4 и 0x3d5. Если в порт 0x3d4
записать номер регистра VGA, то через порт 0x3d5 можно читать и записывать содержимое этого
регистра. См. функцию [vga_get_cursor](https://github.com/hse-cs-ami/yabloko-public/blob/vga-
symbols/drivers/vga.c#L18): она последовательно читает содержимое обоих регистров и собирает из них
смещение курсора. Функцию `vga_set_cursor` напишите по аналогии.

Вывод символов можно производить с помощью функции vga_set_char.

Вывод символа перевода строки (код 0xa) должен приводить к тому, что курсор помещается в столбце 0
на строку ниже.

Текст должен автоматически переноситься между строками, а при заполнении всего экрана должна
происходить прокрутка. Ниже приведены примеры того, как должно измениться состояние экрана при
выводе строки "hello" (5 последовательных вызовов `vga_putc`) при различных позициях курсора (курсор
обозначен знаком `_`):

    
    
    ┌─────────────┐      ┌─────────────┐
    │xxx_         │      │xxxhello_    │
    │             │      │             │
    │             │ ───► │             │
    │             │      │             │
    │             │      │             │
    └─────────────┘      └─────────────┘
    
    
    ┌─────────────┐      ┌─────────────┐
    │xxxyyyyyyy_  │      │xxxyyyyyyyhel│
    │             │      │lo_          │
    │             │ ───► │             │
    │             │      │             │
    │             │      │             │
    └─────────────┘      └─────────────┘
    
    
    ┌─────────────┐      ┌─────────────┐
    │xxxyyyyyyyzzz│      │xxxyyyyyyyzzz│
    │zzzzzzzz_    │      │zzzzzzzzhello│
    │             │ ───► │_            │
    │             │      │             │
    │             │      │             │
    └─────────────┘      └─────────────┘
    
    
    ┌─────────────┐      ┌─────────────┐
    │xxxyyyyyyyzzz│      │zzzzzzzzttttt│
    │zzzzzzzzttttt│      │.............│
    │.............│ ───► │.............│
    │.............│      │..........hel│
    │.........._  │      │lo_          │
    └─────────────┘      └─────────────┘
    

Не используйте вывод на последовательный порт (функции `uartputc`, `printk`).

[Необходимый исходный код «Яблока»](https://github.com/hse-cs-ami/yabloko-public/tree/vga-teletype)

